<form id="external" action="{{ currentUrl }}" method="post" name="g">
    {% set counter = 0 %}

    {% for idp in configuration.idp_list %}
        {% set counter = counter + 1 %}

        {% if counter % 3 == 1 %}
            <div class="row preferred-row">
                <div class="col-md-4 preferred-item">
                    <button class="metaentry list-group-item preferred-item-button" style="color: {{ idp.color_text }}; background-color: {{ idp.color_background }}" type="submit" name="idpentityid" value="{{ idp.entityid }}">
                        <div class="row">
                            {#                        <div class="row" style="height: 50px">#}
                            <div class="col-2">
                                {#                                <span><img src="{{ idp.logo }}" style="height: 50px; width: 50px; object-fit: cover; object-position: left"/></span>#}
                                <span><img src="{{ idp.logo }}"/></span>
                            </div>
                            <div class="col-10" style="margin: auto">
                                <strong>{{ idp.name }}</strong>
                            </div>
                        </div>
                    </button>
                </div>
        {% elseif counter % 3 == 2 %}
                <div class="col-md-4 preferred-item">
                    <button class="metaentry list-group-item preferred-item-button" style="color: {{ idp.color_text }}; background-color: {{ idp.color_background }}" type="submit" name="idpentityid" value="{{ idp.entityid }}">
                        <div class="row">
{#                        <div class="row" style="height: 50px">#}
                            <div class="col-2">
{#                                <span><img src="{{ idp.logo }}" style="height: 50px; width: 50px; object-fit: cover; object-position: left"/></span>#}
                                <span><img src="{{ idp.logo }}"/></span>
                            </div>
                            <div class="col-10" style="margin: auto">
                                <strong>{{ idp.name }}</strong>
                            </div>
                        </div>
                    </button>
                </div>
        {% elseif counter % 3 == 0 %}
                <div class="col-md-4 preferred-item">
                    <button class="metaentry list-group-item preferred-item-button" style="color: {{ idp.color_text }}; background-color: {{ idp.color_background }}" type="submit" name="idpentityid" value="{{ idp.entityid }}">
                        <div class="row">
                            {#                        <div class="row" style="height: 50px">#}
                            <div class="col-2">
                                {#                                <span><img src="{{ idp.logo }}" style="height: 50px; width: 50px; object-fit: cover; object-position: left"/></span>#}
                                <span><img src="{{ idp.logo }}"/></span>
                            </div>
                            <div class="col-10" style="margin: auto">
                                <strong>{{ idp.name }}</strong>
                            </div>
                        </div>
                    </button>
                </div>
            </div> {# row #}
        {% endif %}
    {% endfor %}

    {% if counter % 3 != 0 %}
        </div> {# row #}
    {% endif %}

    <input type="hidden" id="authstate" name="authstate" value="{{ authstate }}" />
    <input type="hidden" id="source" name="source" value="default-sp" />
</form>




